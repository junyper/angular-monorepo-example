!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@testing-library/angular"),require("jest-axe"),require("@angular/core"),require("path"),require("fs-extra"),require("http"),require("connect"),require("finalhandler"),require("puppeteer"),require("@percy/puppeteer"),require("dotenv/config"),require("pretty-format")):"function"==typeof define&&define.amd?define("test-utils",["exports","@testing-library/angular","jest-axe","@angular/core","path","fs-extra","http","connect","finalhandler","puppeteer","@percy/puppeteer","dotenv/config","pretty-format"],t):t((e=e||self)["test-utils"]={},e.angular,e.jestAxe,e.ng.core,e.path,e.fsExtra,e.http,e.connect,e.finalhandler,e.puppeteer,e.puppeteer$1,null,e.prettyFormat)}(this,(function(e,t,r,n,o,a,u,i,c,l,s,f,p){"use strict";u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p;function d(e,t,r,n){return new(r||(r=Promise))((function(o,a){function u(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,i)}c((n=n.apply(e,t||[])).next())}))}function b(e,t){var r,n,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,n=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}Object.create;function h(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return u}Object.create;t.configure({defaultImports:[]});var y=function(){};y.decorators=[{type:n.Component,args:[{selector:"test-fixture",template:""}]}];var g=p.plugins,v=g.DOMElement,m=g.DOMCollection,w=function(e,t,r){e.documentElement&&(e=e.documentElement);var n=p(e,Object.assign({plugins:[v,m],printFunctionName:!1,highlight:!0},r));return void 0!==t&&e.outerHTML.length>t?n.slice(0,t)+"...":n},x=function(e,t,r){return void 0===e&&(e=document),console.log(w(e,t,r))},O=function(e){return d(void 0,void 0,void 0,(function(){var t,r;return b(this,(function(n){switch(n.label){case 0:return(t=i()).use((function(t,r,n){return"/"===t.url?r.end(e):n()})),t.use(c),r=u.createServer(t),[4,new Promise((function(e,t){var n=function(){r.once("error",(function(e){"EADDRINUSE"===e.code&&r.close(n)})),r.listen(0,e),r.on("error",t)};n()}))];case 1:return n.sent(),[2,r]}}))}))},j=function(e,t,r){return d(void 0,void 0,void 0,(function(){var n,u,i;return b(this,(function(c){switch(c.label){case 0:return[4,l.launch({executablePath:process.env.PUPPETEER_EXECUTABLE_PATH||"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",args:["--no-sandbox","--disable-lcd-text","--disable-setuid-sandbox","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-renderer-backgrounding","--disable-infobars","--disable-web-security","--no-default-browser-check","--use-mock-keychain","--no-first-run","--disable-default-apps","--disable-popup-blocking","--disable-translate","--disable-extensions","--use-fake-ui-for-media-stream","--use-fake-device-for-media-stream","--allow-file-access-from-files"]})];case 1:return[4,(n=c.sent()).newPage()];case 2:return[4,(u=c.sent()).goto(e,{waitUntil:"networkidle0"})];case 3:return c.sent(),process.env.CI?[4,s.percySnapshot(u,t,r)]:[3,5];case 4:return c.sent(),[3,7];case 5:return[4,u.screenshot(r)];case 6:i=c.sent(),a.outputFileSync(o.join(process.cwd(),"__screenshots__/"+t+".png"),i),c.label=7;case 7:return n.close(),[2]}}))}))},P={},E=function(){var e=expect.getState(),t=e.currentTestName;P[t]?P[t]++:P[t]=0;var r=P[t];return""+e.currentTestName+(r>0?r:"")},k=function(e){return void 0===e&&(e={debug:!0}),d(void 0,void 0,void 0,(function(){var t,r,n,o;return b(this,(function(a){switch(a.label){case 0:return e.debug&&x(document),t=E(),r=document.documentElement.outerHTML,[4,O(r)];case 1:return n=a.sent(),o=n.address().port,[4,j("http://localhost:"+o,t,e)];case 2:return a.sent(),[4,new Promise((function(e){return n.close(e)}))];case 3:return a.sent(),[2]}}))}))};Object.defineProperty(e,"fireEvent",{enumerable:!0,get:function(){return t.fireEvent}}),Object.defineProperty(e,"screen",{enumerable:!0,get:function(){return t.screen}}),Object.defineProperty(e,"waitFor",{enumerable:!0,get:function(){return t.waitFor}}),Object.defineProperty(e,"axe",{enumerable:!0,get:function(){return r.axe}}),e.render=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=h(e,2),o=n[0],a=n[1];return"function"==typeof o?t.render(o,Object.assign({excludeComponentDeclaration:!0},a)):t.render(y,o)},e.screenshot=k,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=test-utils.umd.min.js.map